<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Community Insights Tool helps water agency staff explore demographics, languages, and environmental conditions." />
  <title>Community Insights Tool</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <!-- Point the frontend at the correct API host -->
  <meta name="api-base" content="https://calwep-nft-api.onrender.com">
  <script src="config.js"></script>
  <!-- Client-side PDF generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
  <div class="container">
    <header class="page-header stack stack--xl">
      <h1>Community Insights Tool</h1>
      <p class="tagline">Turn any address into a snapshot of community needs and priorities.</p>
      <p class="description">The Community Insights Tool helps water agency staff understand the unique communities they serve. By entering an address, you can explore neighborhood-level demographics, languages spoken, and environmental conditions, and see how that location compares to the broader service area. This tool combines U.S. Census (ACS) data with CalEPA Enviroscreen to support effective outreach, grant applications, and equitable program design.</p>
      <div class="quick-instructions">
        <strong>Quick Instructions</strong>
        <ol>
          <li><strong>Enter an address</strong> – Type in the location of your event, project, or service area.</li>
          <li><strong>View insights</strong> – Explore demographic, language, and environmental data for the neighborhood.</li>
          <li><strong>Compare &amp; apply</strong> – See how the area differs from the larger district and use the insights to guide outreach, tailor materials, and strengthen grant proposals.</li>
        </ol>
      </div>

      <div class="controls">
        <label class="visually-hidden" for="autocomplete">Search address</label>
        <input id="autocomplete"
               placeholder="123 Main St, Yucaipa, CA 92399"
               type="text"
               autocomplete="off"
               inputmode="search"
               aria-label="Address search" />
        <button id="lookupBtn" type="button" aria-label="Lookup demographics">Lookup</button>
      </div>
    </header>

    <main class="main-column stack stack--xxl">
      <div id="result" class="result-box" aria-live="polite" aria-atomic="true"></div>
    </main>
  </div>

  <footer class="page-footer">
    <p>Powered by <a href="https://cyberwiz.io" target="_blank" rel="noopener noreferrer">CyberWiz</a></p>
  </footer>

  <script src="script.js" defer></script>
</body>
</html>
